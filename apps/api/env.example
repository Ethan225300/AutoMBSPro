# ============================================
# MBSPro API - Environment Configuration
# ============================================

# Server Configuration
PORT=4000
NODE_ENV=development

# ============================================
# Supabase Configuration (REQUIRED)
# ============================================
# Get these values from your Supabase project dashboard:
# 1. Go to https://supabase.com/dashboard
# 2. Select your project
# 3. Go to Settings > API

# Project URL (required)
SUPABASE_URL=https://your-project-id.supabase.co

# Anonymous Key (required for client-side operations)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...your-anon-key-here

# Service Role Key (required for server-side operations with full access)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...your-service-role-key-here

# ============================================
# Database Configuration (REQUIRED)
# ============================================
# PostgreSQL connection string from Supabase
# Format: postgresql://postgres:password@db.project-id.supabase.co:5432/postgres
# Note: SSL is required for Supabase connections
DATABASE_URL=postgresql://postgres:your_password@db.your-project-id.supabase.co:5432/postgres?sslmode=require

# PostgreSQL SSL Mode (optional, defaults to 'require' for Supabase)
PGSSLMODE=require

# ============================================
# Application Configuration
# ============================================

# API Configuration
API_PREFIX=api
SWAGGER_ENABLED=true

# CORS Configuration
FRONTEND_URL=http://localhost:3000

# Suggest Pipeline Mode: local | rag | hybrid
SUGGEST_MODE=local

# ============================================
# Development Configuration
# ============================================

# Enable detailed logging in development
LOG_LEVEL=debug

# ============================================
# RAG Configuration (Optional)
# ============================================

# OpenAI
OPENAI_API_KEY=sk-xxx
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_EMBED_MODEL=text-embedding-3-small

# Pinecone
PINECONE_API_KEY=pc-xxx
PINECONE_INDEX=mbspro-langchain-api

# Cohere (optional rerank)
COHERE_API_KEY=cohere-xxx
COHERE_RERANK_MODEL=rerank-english-v3.0

# Rerank candidate count and threshold (optional)
RERANK_CANDIDATES=60
RERANK_THRESHOLD=0.0

# Ingest security (optional)
INGEST_SECRET=dev-ingest-secret

# ============================================
# Instructions:
# 1. Copy this file to .env: cp env.example .env
# 2. Replace all placeholder values with your actual Supabase credentials
# 3. Never commit .env to version control
# ============================================
